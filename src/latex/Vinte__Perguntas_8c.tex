\hypertarget{Vinte__Perguntas_8c}{}\section{Referência do Arquivo Vinte\+\_\+\+Perguntas.\+c}
\label{Vinte__Perguntas_8c}\index{Vinte\+\_\+\+Perguntas.\+c@{Vinte\+\_\+\+Perguntas.\+c}}


Arquivo que contem a biblioteca de estruturação (execução) do jogo de 20 perguntas.  


{\ttfamily \#include $<$stdio.\+h$>$}\\*
{\ttfamily \#include $<$stdlib.\+h$>$}\\*
{\ttfamily \#include $<$ctype.\+h$>$}\\*
{\ttfamily \#include $<$string.\+h$>$}\\*
{\ttfamily \#include $<$assert.\+h$>$}\\*
{\ttfamily \#include \char`\"{}Arvore.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}Funcs.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}Vinte\+\_\+\+Perguntas.\+h\char`\"{}}\\*
Gráfico de dependência de inclusões para Vinte\+\_\+\+Perguntas.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{Vinte__Perguntas_8c__incl}
\end{center}
\end{figure}
\subsection*{Definições e Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{Vinte__Perguntas_8c_aa9c92c11eef6b6d98a1a444302093ca5}{\+\_\+\+Primary\+\_\+libraries}
\begin{DoxyCompactList}\small\item\em Header de funções padrão, para I/O, manipulação de strings. \end{DoxyCompactList}\item 
\#define \hyperlink{Vinte__Perguntas_8c_ad3059c7e862e1f571f036f8edbec268e}{\+\_\+\+Arvore\+\_\+library}\hypertarget{Vinte__Perguntas_8c_ad3059c7e862e1f571f036f8edbec268e}{}\label{Vinte__Perguntas_8c_ad3059c7e862e1f571f036f8edbec268e}

\begin{DoxyCompactList}\small\item\em Header da biblioteca de arvore. \end{DoxyCompactList}\item 
\#define \hyperlink{Vinte__Perguntas_8c_aada0c2263d9b6d55cbf5b649bc72a64a}{\+\_\+\+Funcs\+\_\+library}\hypertarget{Vinte__Perguntas_8c_aada0c2263d9b6d55cbf5b649bc72a64a}{}\label{Vinte__Perguntas_8c_aada0c2263d9b6d55cbf5b649bc72a64a}

\begin{DoxyCompactList}\small\item\em Header da biblioteca de funções (criação de arquivo e concatenação de strings). \end{DoxyCompactList}\item 
\#define \hyperlink{Vinte__Perguntas_8c_a18fc926bd99ef27d0302ea3f50e1424e}{\+\_\+\+Vinte\+\_\+\+Perguntas\+\_\+library}\hypertarget{Vinte__Perguntas_8c_a18fc926bd99ef27d0302ea3f50e1424e}{}\label{Vinte__Perguntas_8c_a18fc926bd99ef27d0302ea3f50e1424e}

\begin{DoxyCompactList}\small\item\em Header da biblioteca de estruturação (execução) do jogo de 20 perguntas. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Funções}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{Vinte__Perguntas_8c_adfddf703b30161071a91916399b95f6a}{Resposta} (unsigned int tipo)
\begin{DoxyCompactList}\small\item\em Função para pegar o input especifico de opções do usuario. \end{DoxyCompactList}\item 
void \hyperlink{Vinte__Perguntas_8c_a50cd5030c633ddd0c6cc9bcfb9adfd88}{Vinte\+\_\+\+Perguntas} (arvore $\ast$$\ast$anavega, int numero\+\_\+respostas)
\begin{DoxyCompactList}\small\item\em Função de execução do programa. \end{DoxyCompactList}\item 
void \hyperlink{Vinte__Perguntas_8c_a843ac3fa2d2a9236370d2771e011fbde}{Pergunta\+\_\+\+Final} (arvore $\ast$$\ast$anterior, arvore $\ast$$\ast$ainicio, int numero\+\_\+respostas, int opcao)
\begin{DoxyCompactList}\small\item\em Função que verifica se o computador acertou o objeto, e cria mais perguntas caso não tenha acertado (se o usuário quiser e ainda não tenham sido respondidas 20 perguntas). \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Descrição Detalhada}
Arquivo que contem a biblioteca de estruturação (execução) do jogo de 20 perguntas. 

\begin{DoxyAuthor}{Autor}
Andre Garrido Damaceno 
\end{DoxyAuthor}


\subsection{Definições e macros}
\index{Vinte\+\_\+\+Perguntas.\+c@{Vinte\+\_\+\+Perguntas.\+c}!\+\_\+\+Primary\+\_\+libraries@{\+\_\+\+Primary\+\_\+libraries}}
\index{\+\_\+\+Primary\+\_\+libraries@{\+\_\+\+Primary\+\_\+libraries}!Vinte\+\_\+\+Perguntas.\+c@{Vinte\+\_\+\+Perguntas.\+c}}
\subsubsection[{\texorpdfstring{\+\_\+\+Primary\+\_\+libraries}{_Primary_libraries}}]{\setlength{\rightskip}{0pt plus 5cm}\#define \+\_\+\+Primary\+\_\+libraries}\hypertarget{Vinte__Perguntas_8c_aa9c92c11eef6b6d98a1a444302093ca5}{}\label{Vinte__Perguntas_8c_aa9c92c11eef6b6d98a1a444302093ca5}


Header de funções padrão, para I/O, manipulação de strings. 

Como esse arquivo contem a biblioteca de execução, necessita dos headers padrões, de funções auxiliares, e de estruturação do jogo. 

\subsection{Funções}
\index{Vinte\+\_\+\+Perguntas.\+c@{Vinte\+\_\+\+Perguntas.\+c}!Pergunta\+\_\+\+Final@{Pergunta\+\_\+\+Final}}
\index{Pergunta\+\_\+\+Final@{Pergunta\+\_\+\+Final}!Vinte\+\_\+\+Perguntas.\+c@{Vinte\+\_\+\+Perguntas.\+c}}
\subsubsection[{\texorpdfstring{Pergunta\+\_\+\+Final(arvore $\ast$$\ast$anterior, arvore $\ast$$\ast$ainicio, int numero\+\_\+respostas, int opcao)}{Pergunta_Final(arvore **anterior, arvore **ainicio, int numero_respostas, int opcao)}}]{\setlength{\rightskip}{0pt plus 5cm}void Pergunta\+\_\+\+Final (
\begin{DoxyParamCaption}
\item[{arvore $\ast$$\ast$}]{anterior, }
\item[{arvore $\ast$$\ast$}]{ainicio, }
\item[{int}]{numero\+\_\+respostas, }
\item[{int}]{opcao}
\end{DoxyParamCaption}
)}\hypertarget{Vinte__Perguntas_8c_a843ac3fa2d2a9236370d2771e011fbde}{}\label{Vinte__Perguntas_8c_a843ac3fa2d2a9236370d2771e011fbde}


Função que verifica se o computador acertou o objeto, e cria mais perguntas caso não tenha acertado (se o usuário quiser e ainda não tenham sido respondidas 20 perguntas). 

Parametros\+: Essa função recebe como parametro o endereço do ponteiro da arvore \textquotesingle{}arvore $\ast$$\ast$anterior\textquotesingle{}, o endereço do apontador do inicio da arvore \textquotesingle{}arvore $\ast$$\ast$ainicio\textquotesingle{}, o numero de perguntas ja respondidas \textquotesingle{}int numero\+\_\+respostas\textquotesingle{} e a última opção selecionada \textquotesingle{}int opcao\textquotesingle{}. A função não retorna nenhum parametro.

Tratamento de erros\+: Os casos de erro são os mesmos das funções \textquotesingle{}\hyperlink{Vinte__Perguntas_8c_a50cd5030c633ddd0c6cc9bcfb9adfd88}{Vinte\+\_\+\+Perguntas()}\textquotesingle{} e \textquotesingle{}\hyperlink{Arvore_8c_a11bdc8462ac661708ec7dfc6209ad039}{Constroi\+\_\+\+Manual()}\textquotesingle{}, pois depende dessas funções e de alocação de memoria do computador, sendo assim, a execução é terminada caso haja algum erro de alocação.

Descrição\+: Essa função tem o objetivo de checar se o computador conseguiu chegar na resposta do objeto que o usuário pensava. Dessa forma, a função dá a opção de criar novas perguntas para alcançar esse objetivo (caso o usuário tenha respondido menos que 20 perguntas ou um nó foi apagado) e por fim, retorna ao jogo (ou mostra o resultado caso ja tenham sido respondidas as 20 perguntas).

Assertivas de entrada\+: numero\+\_\+respostas deve ser menor que 21, apontador da árvore \textquotesingle{}anterior\textquotesingle{} não pode ser N\+U\+LL.

Requisitos\+: A função deve verificar se o usuário achou a resposta e se ja foram respondidas as 20 perguntas. Caso ainda não tenha chegado na resposta e ja tenha sido respondidas 20 perguntas, nada ocorre. Caso não tenha chegado na resposta e ainda não tenham sido respondidas as 20 perguntas, o usuário tem a opção de inserir mais perguntas até que as 20 perguntas sejam completadas, por fim o jogo retorna. Caso já tenha achado a resposta do objeto pensado pelo usuário, o programa finaliza.

Hipoteses\+: Todas as memórias alocadas são feitas com o tamanho e a forma adequada, as navegações com os ponteiros são feitas de forma correta e com cuidado para não se perder as referências.

Assertivas de saida\+: Não há.

Interface explicita\+:

Interface implicita\+:

Contrato na especificação\+: A função deve verificar se o usuário já chegou na resposta desejada, caso ja tenha, uma mensagem é exibida. Caso ainda não tenha chegado, verifica-\/se se já foram respondidas 20 perguntas. Caso ja tenha sido respondido, é exibida uma mensagem de consolo. Caso contrário, é disponibilizada uma opção de inserir mais perguntas para se chegar na resposta (com o limite de 20 perguntas no total). No final, o jogo retorna na útlima pergunta respondida (que não tinha a resposta). \index{Vinte\+\_\+\+Perguntas.\+c@{Vinte\+\_\+\+Perguntas.\+c}!Resposta@{Resposta}}
\index{Resposta@{Resposta}!Vinte\+\_\+\+Perguntas.\+c@{Vinte\+\_\+\+Perguntas.\+c}}
\subsubsection[{\texorpdfstring{Resposta(unsigned int tipo)}{Resposta(unsigned int tipo)}}]{\setlength{\rightskip}{0pt plus 5cm}int Resposta (
\begin{DoxyParamCaption}
\item[{unsigned int}]{tipo}
\end{DoxyParamCaption}
)}\hypertarget{Vinte__Perguntas_8c_adfddf703b30161071a91916399b95f6a}{}\label{Vinte__Perguntas_8c_adfddf703b30161071a91916399b95f6a}


Função para pegar o input especifico de opções do usuario. 

Parametros\+: Essa função recebe como parametro um inteiro \textquotesingle{}int tipo\textquotesingle{}, que especifica o tipo de opção que o usuário terá e retorna um inteiro que representa a opção selecionada (escrita) pelo usuario.

Tratamento de erros\+: Caso o usuario tenha respondido algo invalido, é mencionada as respostas que a pergunta espera, e dada a chance do usuario responder novamente, caso contrario, é retornado o equivalente da resposta do usuario pelo inteiro. Caso haja um erro de leitura pelo \textquotesingle{}scanf\textquotesingle{} (usuario digita mais que 6 caracteres), apenas é mencionada a mensagem dos tipos da resposta disponivel multiplas vezes, qualquer outro tipo de erro é desconhecido o comportamento (pois estariam dependendo das funções \textquotesingle{}strcmp\textquotesingle{}, \textquotesingle{}strlen\textquotesingle{} e toupper).

Descrição\+: Essa função inicialmente lê a resposta escrita pelo usuário e delimita as respostas para o Tipo da pergunta, sendo \textquotesingle{}simples\textquotesingle{} -\/ para perguntas de \textquotesingle{}sim\textquotesingle{} ou \textquotesingle{}nao\textquotesingle{}, \textquotesingle{}multipla\textquotesingle{} -\/ para perguntas de \textquotesingle{}sim\textquotesingle{}, \textquotesingle{}nao\textquotesingle{}, \textquotesingle{}editar\textquotesingle{} ou \textquotesingle{}apagar\textquotesingle{}, e \textquotesingle{}inicializacao\textquotesingle{} -\/ para perguntas de \textquotesingle{}abrir\textquotesingle{} ou \textquotesingle{}criar\textquotesingle{}.

Assertivas de entrada\+: O valor de entrada deve estar entre 0 (pergunta multipla) e 2 (pergunta de inicialização).

Requisitos\+: A função deve receber a resposta do usuário de acordo com o contexto (se é uma pergunta multipla, de inicialização ou simples), e retornar uma resposta válida apenas. A função deve ficar perguntando ao usuário até que uma resposta válida seja respondida.

Hipoteses\+: A leitura da opção é feita de forma correta, de acordo com o tamanho do vetor que fica armazenada a resposta do usuário. O loop é feito apenas quando há uma resposta incorreta, saindo dele sempre que a resposta correta ser respondida.

Assertivas de saida\+: O retorno tem que estar entre 0 (Rsim) e 5 (Rabrir).

Interface explicita\+:

Interface implicita\+:

Contrato na especificação\+: A função recebe como parametro o tipo da pergunta e deve retornar com a resposta do usuário de acordo com o tipo da pergunta recebida. Caso ela receba um tipo, e é respondido uma resposta válida em outros tipos mas não no tipo recebido, a resposta deve ser considerada inválida. \index{Vinte\+\_\+\+Perguntas.\+c@{Vinte\+\_\+\+Perguntas.\+c}!Vinte\+\_\+\+Perguntas@{Vinte\+\_\+\+Perguntas}}
\index{Vinte\+\_\+\+Perguntas@{Vinte\+\_\+\+Perguntas}!Vinte\+\_\+\+Perguntas.\+c@{Vinte\+\_\+\+Perguntas.\+c}}
\subsubsection[{\texorpdfstring{Vinte\+\_\+\+Perguntas(arvore $\ast$$\ast$anavega, int numero\+\_\+respostas)}{Vinte_Perguntas(arvore **anavega, int numero_respostas)}}]{\setlength{\rightskip}{0pt plus 5cm}void Vinte\+\_\+\+Perguntas (
\begin{DoxyParamCaption}
\item[{arvore $\ast$$\ast$}]{anavega, }
\item[{int}]{numero\+\_\+respostas}
\end{DoxyParamCaption}
)}\hypertarget{Vinte__Perguntas_8c_a50cd5030c633ddd0c6cc9bcfb9adfd88}{}\label{Vinte__Perguntas_8c_a50cd5030c633ddd0c6cc9bcfb9adfd88}


Função de execução do programa. 

Parametros\+: Essa função recebe como parametro o endereço do ponteiro da arvore \textquotesingle{}arvore $\ast$$\ast$anavega\textquotesingle{} (para as possiveis mudanças na arvore como apagar, editar, navegar e criar novos nós) e um inteiro \textquotesingle{}int numero\+\_\+respostas\textquotesingle{}, para saber quantas perguntas ja foram respondidas pelo usuario. Essa função não retorna nenhum parametro.

Tratamento de erros\+: Como essa função de execução utiliza a maior parte de todas as funções criadas, os erros estão relacionados a essas funções. Mas todas as funções inclusive essa, foi desenvolvida para conter erros e finalizar o programa apenas se um erro de alocação de memoria ocorrer.

Descrição\+: A função inicialmente alerta ao usuário que o jogo irá começar e analisa se a arvore é vazia ou o numero\+\_\+respostas é menor que 19 (ja foram respondidas 20 perguntas). Em seguida é lida a pergunta para o usuário e ele pode navegar pelas perguntas (respondendo \textquotesingle{}sim\textquotesingle{} ou \textquotesingle{}nao\textquotesingle{}) ou editar/apagar uma pergunta. No fim, é perguntado ao usuário se seu objeto pensado foi descoberto. Caso tenha sido, o jogo é finalizado, caso não tenha sido e o usuário ainda não tenha respondido 20 perguntas, é perguntado se o usuário deseja inserir mais perguntas para o programa descobrir o objeto. Ao fim das inserções, o jogo recomeça a partir do ponto da ultima pergunta respondida pelo usuário.

numero\+\_\+respostas menor que 21

Requisitos\+: A função deve percorrer as perguntas da árvore de acordo com as respostas do usuário, também ter a capacidade de verificar se ja foram respondidas 20 perguntas. Ao fim, também oferecer a opção de inserir mais perguntas caso ainda não tenham sido respondidas as 20, e a resposta não tenha sido encontrada.

Hipoteses\+: As alocações de memória são feitas com o tamanho ideal e de forma correta, as navegações com os ponteiros são feitas de forma adequada.

Assertivas de saida\+: Não há.

Interface explicita\+:

Interface implicita\+:

Contrato na especificação\+: A função recebe a árvore com as perguntas e a quantidade de respostas já respondidas, ela deve então navegar na árvore de acordo com as respostas do usuário, até o fim da árvore (onde pode ser que tenha ou não a resposta do objeto pensado pelo usuário). Caso não chegue na resposta e não tenham sido respondidas 20 perguntas ainda, a função dá a opção de inserir mais perguntas até que a resposta seja alcançada ou as 20 perguntas sejam criadas. 